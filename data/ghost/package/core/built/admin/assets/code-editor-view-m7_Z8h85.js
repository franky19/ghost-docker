import{r,e as F,aE as N,j as t}from"./index-DQyPmpGB.js";import{u as z,R as H,H as L,a as B}from"./settings-Ch2qwnlP.js";import"./index-C_lxe0H8.js";import"./newsletters-CnOF1I5K.js";import"./posts-C7K9oIZ5.js";import"./referrers-B7Md7X9n.js";const M=["[&_.cm-editor]:bg-transparent","[&_.cm-editor]:border-transparent","[&_.cm-scroller]:font-mono","[&_.cm-scroller]:border-transparent","[&_.cm-activeLine]:bg-transparent","[&_.cm-activeLineGutter]:bg-transparent","[&_.cm-gutters]:bg-grey-75 dark:[&_.cm-gutters]:bg-grey-950","[&_.cm-gutters]:text-grey-600 dark:[&_.cm-gutters]:text-grey-500","[&_.cm-gutters]:border-grey-500 dark:[&_.cm-gutters]:border-grey-800","[&_.cm-cursor]:border-grey-900 dark:[&_.cm-cursor]:border-grey-75","dark:[&_.cm-tooltip-autocomplete.cm-tooltip_ul_li:not([aria-selected])]:bg-grey-975"].join(" "),W=r.forwardRef(function({title:o,value:g,height:s="200px",error:a,hint:c,clearBg:f=!0,extensions:n,onChange:b,onFocus:l,onBlur:d,className:p,...x},_){const y=r.useId(),u=r.useRef(null),[v,h]=r.useState(100),[i,j]=F.useState(null),[w,E]=r.useState({crosshairCursor:!1}),{setFocusState:m}=z(),R=e=>{l?.(e),m(!0)},k=e=>{d?.(e),m(!1)};r.useEffect(()=>{Promise.all(n).then(j),E(e=>({setup:e,searchKeymap:!1}))},[n]),r.useEffect(()=>{const e=new ResizeObserver(([S])=>{h(S.contentRect.width)});return e.observe(u.current),()=>e.disconnect()},[]);const C=N("peer order-2 w-full max-w-full overflow-hidden rounded-sm border",f?"bg-transparent":"bg-grey-75",a?"border-red":"border-grey-500 dark:border-grey-800",o&&"mt-2",s==="full"&&"h-full",M,p);return t.jsxs(t.Fragment,{children:[t.jsx("div",{ref:u}),i&&t.jsxs("div",{className:s==="full"?"h-full":"",style:{width:v},children:[t.jsx(H,{ref:_,basicSetup:w,className:C,extensions:i,height:s==="full"?"100%":s,value:g,onBlur:k,onChange:b,onFocus:R,...x}),o&&t.jsx(L,{className:"order-1 !text-grey-700 peer-focus:!text-black",htmlFor:y,useLabelTag:!0,children:o}),c&&t.jsx(B,{className:"order-3",color:a?"red":"",children:c})]})]})});export{W as default};

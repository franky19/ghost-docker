import{j as s,e as p,b2 as e,b3 as b,b4 as E,aW as f,ap as A,B as P,b5 as x,aY as g,b6 as c}from"./index-DQyPmpGB.js";const j=()=>s.jsx("div",{className:"admin-x-container-error",children:s.jsxs("div",{className:"admin-x-error",children:[s.jsx("h1",{children:"Loading interrupted"}),s.jsx("p",{children:"They say life is a series of trials and tribulations. This moment right here? It's a tribulation. Our app was supposed to load, and yet here we are. Loadless. Click back to the dashboard to try again."}),s.jsx("a",{className:"cursor-pointer",onClick:()=>window.location.reload(),children:"â† Back to the dashboard"})]})});class C extends p.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){return this.state.hasError?s.jsx(j,{error:this.state.error}):this.props.children}}const o=[{name:"Public visitors",value:"undefined",bit:e.PUBLIC},{name:"Free members",value:"free",bit:e.FREE},{name:"Paid members",value:"paid",bit:e.PAID}],d=e.PUBLIC|e.FREE|e.PAID,D=n=>!n||n.length===0?d:o.filter(t=>n.includes(t.value)).reduce((t,i)=>t|i.bit,0)||d,v=n=>{const t=[];return(n&e.PUBLIC)!==0&&t.push(o[0].value),(n&e.FREE)!==0&&t.push(o[1].value),(n&e.PAID)!==0&&t.push(o[2].value),t.join(",")},F=()=>{const{audience:n,setAudience:t}=b(),{appSettings:i}=E(),u=r=>{t(n^r)},a=r=>(n&r)!==0,l=(r,m)=>{r.preventDefault(),u(m)},h=()=>{const r=[];if(a(e.PUBLIC)&&r.push("Public visitors"),a(e.FREE)&&r.push("Free members"),!i?.paidMembersEnabled){if(r.length===2)return"All audiences";if(r.length===1)return a(e.FREE)?"Free members":"Public visitors";if(r.length===0)return"Select audience"}return a(e.PAID)&&r.push("Paid members"),r.length===0?"Select audience":r.length===3?"All audiences":a(e.FREE)&&a(e.PAID)&&!a(e.PUBLIC)?"All members":r.join(" & ")};return s.jsxs(f,{children:[s.jsx(A,{asChild:!0,children:s.jsxs(P,{variant:"dropdown",children:[s.jsx(x,{}),s.jsx("span",{className:"lowercase first-letter:capitalize",children:h()})]})}),s.jsxs(g,{align:"end",className:"w-full min-w-48",children:[s.jsx(c,{checked:a(e.PUBLIC),onSelect:r=>l(r,e.PUBLIC),children:"Public visitors"}),s.jsx(c,{checked:a(e.FREE),onSelect:r=>l(r,e.FREE),children:"Free members"}),i?.paidMembersEnabled&&s.jsx(c,{checked:a(e.PAID),onSelect:r=>l(r,e.PAID),children:"Paid members"})]})]})};export{F as A,D as a,v as g};
